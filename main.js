/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => DragAndDropBlocksPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/DragVisuals/DragVisuals.ts
var import_obsidian = require("obsidian");

// src/DragVisuals/DragPlaceholder.ts
var DragPlaceholder = class {
  constructor() {
    this.currentPosition = null;
    this.targetLine = null;
    this.sourceLineNumber = null;
    this.element = this.createDragPlaceholderElement();
    document.body.appendChild(this.element);
  }
  createDragPlaceholderElement() {
    const dragPlaceholder = document.createElement("div");
    dragPlaceholder.className = "drag-placeholder";
    dragPlaceholder.style.position = "absolute";
    dragPlaceholder.style.height = "2px";
    dragPlaceholder.style.backgroundColor = "var(--interactive-accent)";
    dragPlaceholder.style.display = "none";
    dragPlaceholder.style.zIndex = "1000";
    return dragPlaceholder;
  }
  getFrontmatterEndPosition(doc) {
    const firstLine = doc.line(1);
    if (firstLine.text.trim() !== "---") {
      return 0;
    }
    for (let i = 2; i <= doc.lines; i++) {
      const line = doc.line(i);
      if (line.text.trim() === "---") {
        return line.to;
      }
    }
    return 0;
  }
  showDragPlaceholder(view, pos, sourceLineNumber) {
    const doc = view.state.doc;
    const line = doc.lineAt(pos);
    let placeholderPos;
    let targetLineNumber;
    const frontmatterEndPos = this.getFrontmatterEndPosition(doc);
    const firstContentLine = doc.lineAt(frontmatterEndPos);
    if (pos <= firstContentLine.from) {
      placeholderPos = firstContentLine.from;
      targetLineNumber = firstContentLine.number;
    } else if (pos >= doc.length) {
      placeholderPos = doc.length;
      targetLineNumber = doc.lines + 1;
    } else if (pos <= line.from + (line.to - line.from) / 2) {
      placeholderPos = line.from;
      targetLineNumber = line.number;
    } else {
      placeholderPos = line.to + 1;
      targetLineNumber = line.number + 1;
    }
    const rect = view.coordsAtPos(placeholderPos);
    if (!rect)
      return;
    const lineElement = view.dom.querySelector(".cm-line");
    if (!lineElement)
      return;
    const lineRect = lineElement.getBoundingClientRect();
    this.element.style.display = "block";
    this.element.style.left = `${lineRect.left}px`;
    this.element.style.width = `${lineRect.width}px`;
    this.element.style.height = "2px";
    if (placeholderPos <= firstContentLine.from) {
      const firstContentLineRect = view.coordsAtPos(firstContentLine.from);
      if (firstContentLineRect) {
        this.element.style.top = `${firstContentLineRect.top - 2}px`;
      }
    } else if (line.number === doc.lines) {
      this.element.style.top = `${rect.bottom + 2}px`;
    } else {
      const currentLineRect = view.coordsAtPos(line.from);
      const nextLineRect = view.coordsAtPos(doc.line(line.number + 1).from);
      if (currentLineRect && nextLineRect) {
        this.element.style.top = `${(currentLineRect.bottom + nextLineRect.top) / 2}px`;
      }
    }
    this.currentPosition = placeholderPos;
    this.targetLine = targetLineNumber;
    this.sourceLineNumber = sourceLineNumber;
  }
  hideDragPlaceholder() {
    this.element.style.display = "none";
    this.currentPosition = null;
    this.targetLine = null;
    this.sourceLineNumber = null;
  }
  getPlaceholderPosition() {
    return this.currentPosition;
  }
  getTargetLine() {
    return this.targetLine;
  }
  getSourceLineNumber() {
    return this.sourceLineNumber;
  }
};

// src/DragVisuals/DragHandleManager.ts
var import_view = require("@codemirror/view");
var import_state = require("@codemirror/state");
var DragHandleWidget = class extends import_view.WidgetType {
  toDOM() {
    const span = document.createElement("span");
    span.className = "cm-drag-handler-container";
    span.setAttribute("draggable", "true");
    span.setAttribute("contenteditable", "false");
    span.innerHTML = `
            <span class="clickable-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svg-icon lucide-grip-vertical">
                    <circle cx="9" cy="12" r="1"></circle>
                    <circle cx="9" cy="5" r="1"></circle>
                    <circle cx="9" cy="19" r="1"></circle>
                    <circle cx="15" cy="12" r="1"></circle>
                    <circle cx="15" cy="5" r="1"></circle>
                    <circle cx="15" cy="19" r="1"></circle>
                </svg>
            </span>
        `;
    return span;
  }
};
var addDragHandle = import_state.StateEffect.define();
var setDraggingLine = import_state.StateEffect.define();
var dragHandleField = import_state.StateField.define({
  create() {
    return import_view.Decoration.none;
  },
  update(handles, tr) {
    handles = handles.map(tr.changes);
    for (let e of tr.effects) {
      if (e.is(addDragHandle)) {
        handles = handles.update({
          add: [import_view.Decoration.widget({
            widget: new DragHandleWidget(),
            side: -1
          }).range(e.value.from)]
        });
      }
    }
    return handles;
  },
  provide: (f) => import_view.EditorView.decorations.from(f)
});
var draggingLineField = import_state.StateField.define({
  create() {
    return null;
  },
  update(value, tr) {
    for (let e of tr.effects) {
      if (e.is(setDraggingLine)) {
        return e.value;
      }
    }
    return value;
  },
  provide: (f) => import_view.EditorView.decorations.from(f, (value) => {
    return (view) => {
      if (value === null)
        return import_view.Decoration.none;
      let line = view.state.doc.line(value);
      return import_view.Decoration.set(import_view.Decoration.line({ class: "cm-dragging-line" }).range(line.from));
    };
  })
});
var dragHandlePlugin = import_view.ViewPlugin.fromClass(class {
  constructor(view) {
    this.decorations = this.createDecorations(view);
  }
  update(update) {
    if (update.docChanged || update.viewportChanged) {
      this.decorations = this.createDecorations(update.view);
    }
  }
  createDecorations(view) {
    let widgets = [];
    for (let { from, to } of view.visibleRanges) {
      for (let pos = from; pos <= to; ) {
        let line = view.state.doc.lineAt(pos);
        widgets.push(import_view.Decoration.widget({
          widget: new DragHandleWidget(),
          side: -1
        }).range(line.from));
        pos = line.to + 1;
      }
    }
    return import_view.Decoration.set(widgets);
  }
}, {
  decorations: (v) => v.decorations
});

// src/DragVisuals/DragVisuals.ts
var DragVisuals = class {
  constructor(app) {
    this.app = app;
    this.dragPlaceholder = new DragPlaceholder();
  }
  showDragPlaceholder(view, pos, sourceLineNumber) {
    this.dragPlaceholder.showDragPlaceholder(view, pos, sourceLineNumber);
  }
  hideDragPlaceholder() {
    this.dragPlaceholder.hideDragPlaceholder();
  }
  createDragPreview(text, event) {
    var _a;
    const dragImage = document.createElement("div");
    dragImage.textContent = text.slice(0, 20) + "...";
    dragImage.className = "drag-preview";
    document.body.appendChild(dragImage);
    (_a = event.dataTransfer) == null ? void 0 : _a.setDragImage(dragImage, 0, 0);
    setTimeout(() => document.body.removeChild(dragImage), 0);
  }
  getEditorView() {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (!view)
      return null;
    return view.editor.cm;
  }
  setDraggingLine(view, lineNumber) {
    view.dispatch({
      effects: setDraggingLine.of(lineNumber)
    });
  }
  static getDragExtensions() {
    return [
      dragHandleField,
      draggingLineField,
      dragHandlePlugin
    ];
  }
  getPlaceholderPosition() {
    return this.dragPlaceholder.getPlaceholderPosition();
  }
  getTargetLine() {
    return this.dragPlaceholder.getTargetLine();
  }
  getSourceLineNumber() {
    return this.dragPlaceholder.getSourceLineNumber();
  }
};

// src/BlockMover.ts
var import_state2 = require("@codemirror/state");
var BlockMover = class {
  static moveBlock(view, fromLine, toLine) {
    console.log("BlockMover.moveBlock \u5F00\u59CB:", {
      \u4ECE\u884C: fromLine,
      \u5230\u884C: toLine
    });
    const doc = view.state.doc;
    const totalLines = doc.lines;
    console.log("\u6587\u6863\u4FE1\u606F:", { \u603B\u884C\u6570: totalLines });
    fromLine = Math.max(1, Math.min(fromLine, totalLines));
    toLine = Math.max(1, Math.min(toLine, totalLines + 1));
    console.log("\u8C03\u6574\u540E\u7684\u884C\u53F7:", { \u4ECE\u884C: fromLine, \u5230\u884C: toLine });
    if (toLine === fromLine + 1 || fromLine === toLine) {
      console.log("\u6E90\u884C\u548C\u76EE\u6807\u884C\u76F8\u540C\u6216\u76F8\u90BB\uFF0C\u65E0\u9700\u79FB\u52A8");
      return;
    }
    const fromLineContent = doc.line(fromLine);
    const lineContent = fromLineContent.text;
    console.log("\u8981\u79FB\u52A8\u7684\u5185\u5BB9:", { \u884C\u5185\u5BB9: lineContent });
    let changes = [];
    let insertPos;
    let newCursorPos;
    if (toLine > fromLine) {
      console.log("\u5411\u4E0B\u79FB\u52A8");
      if (toLine > totalLines) {
        const lastLine = doc.line(totalLines);
        insertPos = lastLine.to;
        changes = [
          { from: insertPos, insert: "\n" + lineContent },
          { from: fromLineContent.from, to: fromLineContent.to + (fromLine === totalLines ? 0 : 1), insert: "" }
        ];
        newCursorPos = insertPos + lineContent.length + 1;
      } else {
        const targetLine = doc.line(toLine - 1);
        insertPos = targetLine.to;
        changes = [
          { from: insertPos, insert: "\n" + lineContent },
          { from: fromLineContent.from, to: fromLineContent.to + 1, insert: "" }
        ];
        newCursorPos = insertPos + lineContent.length + 1;
      }
    } else {
      console.log("\u5411\u4E0A\u79FB\u52A8");
      const targetLine = doc.line(toLine);
      insertPos = targetLine.from;
      changes = [
        { from: insertPos, insert: lineContent + "\n" },
        { from: fromLineContent.from, to: fromLineContent.to + (fromLine === totalLines ? 0 : 1), insert: "" }
      ];
      newCursorPos = insertPos + lineContent.length;
    }
    console.log("\u51C6\u5907\u6267\u884C\u7684\u66F4\u6539:", changes);
    try {
      view.dispatch({
        changes,
        selection: import_state2.EditorSelection.cursor(Math.min(newCursorPos, doc.length))
      });
      console.log("\u6267\u884C\u66F4\u6539:", {
        deleteFrom: fromLine,
        insertAt: toLine,
        insertContent: lineContent,
        newCursorPos
      });
      const newDoc = view.state.doc;
      console.log("\u79FB\u52A8\u540E\u7684\u6587\u6863\u603B\u884C\u6570:", newDoc.lines);
      if (toLine <= newDoc.lines) {
        const newTargetLine = newDoc.line(Math.min(toLine, newDoc.lines));
        console.log("\u65B0\u4F4D\u7F6E\u7684\u5185\u5BB9:", { \u884C\u53F7: Math.min(toLine, newDoc.lines), \u5185\u5BB9: newTargetLine.text });
      } else {
        console.log("\u65B0\u4F4D\u7F6E\u5728\u6587\u6863\u672B\u5C3E");
      }
      if (fromLine <= newDoc.lines) {
        const originalLine = newDoc.line(Math.min(fromLine, newDoc.lines));
        console.log("\u539F\u4F4D\u7F6E\u7684\u5F53\u524D\u5185\u5BB9:", { \u884C\u53F7: Math.min(fromLine, newDoc.lines), \u5185\u5BB9: originalLine.text });
      } else {
        console.log("\u539F\u4F4D\u7F6E\u5DF2\u8D85\u51FA\u6587\u6863\u8303\u56F4");
      }
    } catch (error) {
      console.error("\u79FB\u52A8\u5757\u65F6\u51FA\u9519:", error);
    }
  }
  static getFrontmatterEndPosition(doc) {
    const firstLine = doc.line(1);
    if (firstLine.text.trim() !== "---") {
      return 0;
    }
    for (let i = 2; i <= doc.lines; i++) {
      const line = doc.line(i);
      if (line.text.trim() === "---") {
        return line.to;
      }
    }
    return 0;
  }
};

// src/utils.ts
var import_obsidian2 = require("obsidian");
function getEditorView(app) {
  const view = app.workspace.getActiveViewOfType(import_obsidian2.MarkdownView);
  if (!view)
    return null;
  return view.editor.cm;
}

// main.ts
var DragAndDropBlocksPlugin = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    this.draggingStartPos = null;
    this.sourceLineNumber = null;
  }
  async onload() {
    this.dragVisuals = new DragVisuals(this.app);
    this.registerEditorExtension([
      dragHandleField,
      draggingLineField,
      dragHandlePlugin,
      ...DragVisuals.getDragExtensions()
    ]);
    this.addDragAndDropListeners();
  }
  onunload() {
  }
  addDragAndDropListeners() {
    this.registerDomEvent(document, "dragstart", this.onDragStart.bind(this));
    this.registerDomEvent(document, "dragover", this.onDragOver.bind(this));
    this.registerDomEvent(document, "drop", this.onDrop.bind(this));
    this.registerDomEvent(document, "dragend", this.onDragEnd.bind(this));
  }
  onDragStart(event) {
    console.clear();
    const target = event.target;
    if (!target.classList.contains("cm-drag-handler-container"))
      return;
    const view = getEditorView(this.app);
    if (!view)
      return;
    const pos = view.posAtDOM(target);
    if (pos === null)
      return;
    const line = view.state.doc.lineAt(pos);
    this.draggingStartPos = line.from;
    this.sourceLineNumber = line.number;
    event.dataTransfer.effectAllowed = "move";
    this.dragVisuals.createDragPreview(line.text, event);
    this.dragVisuals.setDraggingLine(view, line.number);
  }
  onDragOver(event) {
    event.preventDefault();
    const view = getEditorView(this.app);
    if (!view || this.sourceLineNumber === null)
      return;
    const pos = view.posAtCoords({ x: event.clientX, y: event.clientY });
    if (pos === null)
      return;
    this.dragVisuals.showDragPlaceholder(view, pos, this.sourceLineNumber);
  }
  onDrop(event) {
    event.preventDefault();
    console.log("6.1 \u62D6\u653E\u4E8B\u4EF6\u89E6\u53D1");
    const view = getEditorView(this.app);
    if (!view) {
      console.error("6.2 \u672A\u627E\u5230\u7F16\u8F91\u5668\u89C6\u56FE");
      return;
    }
    const targetLine = this.dragVisuals.getTargetLine();
    const sourceLineNumber = this.dragVisuals.getSourceLineNumber();
    console.log("6.3 \u62D6\u653E\u4FE1\u606F:", {
      \u6E90\u884C\u53F7: sourceLineNumber,
      \u76EE\u6807\u884C\u53F7: targetLine
    });
    if (targetLine === null || sourceLineNumber === null) {
      console.error("6.4 \u65E0\u6CD5\u786E\u5B9A\u76EE\u6807\u884C\u6216\u6E90\u884C");
      return;
    }
    if (sourceLineNumber !== targetLine && targetLine !== sourceLineNumber + 1) {
      console.log("6.6 \u6B63\u5728\u79FB\u52A8\u5757");
      BlockMover.moveBlock(view, sourceLineNumber, targetLine);
    } else {
      console.log("6.7 \u6E90\u884C\u548C\u76EE\u6807\u884C\u76F8\u540C\u6216\u76F8\u90BB\uFF0C\u65E0\u9700\u79FB\u52A8");
    }
    this.dragVisuals.hideDragPlaceholder();
    this.dragVisuals.setDraggingLine(view, null);
    console.log("6.8 \u62D6\u653E\u5B8C\u6210");
  }
  getFrontmatterEndPosition(doc) {
    const firstLine = doc.line(1);
    if (firstLine.text.trim() !== "---") {
      return 0;
    }
    for (let i = 2; i <= doc.lines; i++) {
      const line = doc.line(i);
      if (line.text.trim() === "---") {
        return line.to;
      }
    }
    return 0;
  }
  shouldInsertBefore(view, pos) {
    const line = view.state.doc.lineAt(pos);
    const lineStart = line.from;
    const lineMiddle = lineStart + Math.floor(line.length / 2);
    return pos < lineMiddle;
  }
  onDragEnd(event) {
    const view = getEditorView(this.app);
    if (!view)
      return;
    this.dragVisuals.hideDragPlaceholder();
    this.dragVisuals.setDraggingLine(view, null);
    this.draggingStartPos = null;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvRHJhZ1Zpc3VhbHMvRHJhZ1Zpc3VhbHMudHMiLCAic3JjL0RyYWdWaXN1YWxzL0RyYWdQbGFjZWhvbGRlci50cyIsICJzcmMvRHJhZ1Zpc3VhbHMvRHJhZ0hhbmRsZU1hbmFnZXIudHMiLCAic3JjL0Jsb2NrTW92ZXIudHMiLCAic3JjL3V0aWxzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBQbHVnaW4gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBEcmFnVmlzdWFscyB9IGZyb20gJy4vc3JjL0RyYWdWaXN1YWxzL0RyYWdWaXN1YWxzJztcbmltcG9ydCB7IGRyYWdIYW5kbGVGaWVsZCwgZHJhZ2dpbmdMaW5lRmllbGQsIGRyYWdIYW5kbGVQbHVnaW4gfSBmcm9tICcuL3NyYy9EcmFnVmlzdWFscy9EcmFnSGFuZGxlTWFuYWdlcic7XG5pbXBvcnQgeyBCbG9ja01vdmVyIH0gZnJvbSAnLi9zcmMvQmxvY2tNb3Zlcic7XG5pbXBvcnQgeyBnZXRFZGl0b3JWaWV3IH0gZnJvbSAnLi9zcmMvdXRpbHMnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdBbmREcm9wQmxvY2tzUGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcbiAgICBwcml2YXRlIGRyYWdWaXN1YWxzOiBEcmFnVmlzdWFscztcbiAgICBwcml2YXRlIGRyYWdnaW5nU3RhcnRQb3M6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgc291cmNlTGluZU51bWJlcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cblxuICAgIC8vIDEuIFx1NjNEMlx1NEVGNlx1NTJBMFx1OEY3RFxuICAgIGFzeW5jIG9ubG9hZCgpIHtcblxuICAgICAgICB0aGlzLmRyYWdWaXN1YWxzID0gbmV3IERyYWdWaXN1YWxzKHRoaXMuYXBwKTtcblxuICAgICAgICB0aGlzLnJlZ2lzdGVyRWRpdG9yRXh0ZW5zaW9uKFtcbiAgICAgICAgICAgIGRyYWdIYW5kbGVGaWVsZCxcbiAgICAgICAgICAgIGRyYWdnaW5nTGluZUZpZWxkLFxuICAgICAgICAgICAgZHJhZ0hhbmRsZVBsdWdpbixcbiAgICAgICAgICAgIC4uLkRyYWdWaXN1YWxzLmdldERyYWdFeHRlbnNpb25zKClcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gMS4xIFx1NkRGQlx1NTJBMFx1NjJENlx1NTJBOFx1NTQ4Q1x1NjUzRVx1N0Y2RVx1NEU4Qlx1NEVGNlx1NzZEMVx1NTQyQ1x1NTY2OFxuICAgICAgICB0aGlzLmFkZERyYWdBbmREcm9wTGlzdGVuZXJzKCk7XG5cblxuICAgIH1cblxuICAgIC8vIDIuIFx1NjNEMlx1NEVGNlx1NTM3OFx1OEY3RFxuICAgIG9udW5sb2FkKCkge1xuICAgIH1cblxuICAgIC8vIDMuIFx1NkRGQlx1NTJBMFx1NjJENlx1NjUzRVx1NzZEMVx1NTQyQ1x1NTY2OFxuICAgIHByaXZhdGUgYWRkRHJhZ0FuZERyb3BMaXN0ZW5lcnMoKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2RyYWdzdGFydCcsIHRoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2RyYWdvdmVyJywgdGhpcy5vbkRyYWdPdmVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRG9tRXZlbnQoZG9jdW1lbnQsICdkcm9wJywgdGhpcy5vbkRyb3AuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2RyYWdlbmQnLCB0aGlzLm9uRHJhZ0VuZC5iaW5kKHRoaXMpKTtcbiAgICB9XG5cblxuICAgIC8vIDQuIFx1NjJENlx1NTJBOFx1NUYwMFx1NTlDQlx1NEU4Qlx1NEVGNlx1NTkwNFx1NzQwNiBcbiAgICBwcml2YXRlIG9uRHJhZ1N0YXJ0KGV2ZW50OiBEcmFnRXZlbnQpIHtcblxuICAgICAgICBjb25zb2xlLmNsZWFyKCk7XG4gICAgICAgIC8vIDQuMSBcdTgzQjdcdTUzRDZcdTYyRDZcdTUyQThcdTc2RUVcdTY4MDdcdTUxNDNcdTdEMjBcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAvLyA0LjIgXHU1OTgyXHU2NzlDXHU3NkVFXHU2ODA3XHU0RTBEXHU2NjJGXHU2MkQ2XHU1MkE4XHU2MjRCXHU2N0M0XHU1QkI5XHU1NjY4XHVGRjBDXHU1MjE5XHU5MDAwXHU1MUZBXG4gICAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY20tZHJhZy1oYW5kbGVyLWNvbnRhaW5lcicpKSByZXR1cm47XG5cbiAgICAgICAgLy8gNC4zIFx1ODNCN1x1NTNENlx1N0YxNlx1OEY5MVx1NTY2OFx1ODlDNlx1NTZGRVxuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0RWRpdG9yVmlldyh0aGlzLmFwcCk7XG4gICAgICAgIC8vIDQuNCBcdTU5ODJcdTY3OUNcdTY1RTBcdTZDRDVcdTgzQjdcdTUzRDZcdTg5QzZcdTU2RkVcdUZGMENcdTUyMTlcdTkwMDBcdTUxRkFcbiAgICAgICAgaWYgKCF2aWV3KSByZXR1cm47XG5cbiAgICAgICAgLy8gNC41IFx1ODNCN1x1NTNENlx1NzZFRVx1NjgwN1x1NTE0M1x1N0QyMFx1NTcyOFx1NjU4N1x1Njg2M1x1NEUyRFx1NzY4NFx1NEY0RFx1N0Y2RVxuICAgICAgICBjb25zdCBwb3MgPSB2aWV3LnBvc0F0RE9NKHRhcmdldCk7XG4gICAgICAgIC8vIDQuNiBcdTU5ODJcdTY3OUNcdTY1RTBcdTZDRDVcdTgzQjdcdTUzRDZcdTRGNERcdTdGNkVcdUZGMENcdTUyMTlcdTkwMDBcdTUxRkFcbiAgICAgICAgaWYgKHBvcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIDQuNyBcdTgzQjdcdTUzRDZcdTYyRDZcdTUyQThcdTVGMDBcdTU5Q0JcdTc2ODRcdTg4NENcbiAgICAgICAgY29uc3QgbGluZSA9IHZpZXcuc3RhdGUuZG9jLmxpbmVBdChwb3MpO1xuICAgICAgICAvLyA0LjggXHU4QkIwXHU1RjU1XHU2MkQ2XHU1MkE4XHU1RjAwXHU1OUNCXHU3Njg0XHU0RjREXHU3RjZFXG4gICAgICAgIHRoaXMuZHJhZ2dpbmdTdGFydFBvcyA9IGxpbmUuZnJvbTtcbiAgICAgICAgdGhpcy5zb3VyY2VMaW5lTnVtYmVyID0gbGluZS5udW1iZXI7XG5cbiAgICAgICAgLy8gNC45IFx1OEJCRVx1N0Y2RVx1NjJENlx1NTJBOFx1NjU0OFx1Njc5Q1x1NEUzQVx1NzlGQlx1NTJBOFxuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIhLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG5cbiAgICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2MkQ2XHU1MkE4XHU5ODg0XHU4OUM4XG4gICAgICAgIHRoaXMuZHJhZ1Zpc3VhbHMuY3JlYXRlRHJhZ1ByZXZpZXcobGluZS50ZXh0LCBldmVudCk7XG4gICAgICAgIC8vIFx1OEJCRVx1N0Y2RVx1NkI2M1x1NTcyOFx1NjJENlx1NTJBOFx1NzY4NFx1ODg0Q1xuICAgICAgICB0aGlzLmRyYWdWaXN1YWxzLnNldERyYWdnaW5nTGluZSh2aWV3LCBsaW5lLm51bWJlcik7XG4gICAgfVxuXG5cbiAgICAvLyA1LiBcdTYyRDZcdTUyQThcdThGQzdcdTdBMEJcdTRFMkRcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcdUZGMENcdTYyRDZcdTUyQThcdThGQzdcdTdBMEJcdTRFMkRcdTc2ODRcdTg5QzZcdTg5QzlcdTUzQ0RcdTk5ODhcbiAgICBwcml2YXRlIG9uRHJhZ092ZXIoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0RWRpdG9yVmlldyh0aGlzLmFwcCk7XG4gICAgICAgIGlmICghdmlldyB8fCB0aGlzLnNvdXJjZUxpbmVOdW1iZXIgPT09IG51bGwpIHJldHVybjtcblxuICAgICAgICBjb25zdCBwb3MgPSB2aWV3LnBvc0F0Q29vcmRzKHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9KTtcbiAgICAgICAgaWYgKHBvcyA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZHJhZ1Zpc3VhbHMuc2hvd0RyYWdQbGFjZWhvbGRlcih2aWV3LCBwb3MsIHRoaXMuc291cmNlTGluZU51bWJlcik7XG4gICAgfVxuXG4gICAgLy8gNi4gXHU2MkQ2XHU1MkE4XHU3RUQzXHU2NzVGXHU0RThCXHU0RUY2XHU1OTA0XHU3NDA2XHVGRjBDXHU1QjgzXHU1MUIzXHU1QjlBXHU0RTg2XHU2MkQ2XHU1MkE4XHU3RUQzXHU2NzVGXHU1NDBFXHU1NzU3XHU3Njg0XHU2NzAwXHU3RUM4XHU0RjREXHU3RjZFXG4gICAgcHJpdmF0ZSBvbkRyb3AoZXZlbnQ6IERyYWdFdmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zb2xlLmxvZygnNi4xIFx1NjJENlx1NjUzRVx1NEU4Qlx1NEVGNlx1ODlFNlx1NTNEMScpO1xuICAgIFxuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0RWRpdG9yVmlldyh0aGlzLmFwcCk7XG4gICAgICAgIGlmICghdmlldykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignNi4yIFx1NjcyQVx1NjI3RVx1NTIzMFx1N0YxNlx1OEY5MVx1NTY2OFx1ODlDNlx1NTZGRScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGNvbnN0IHRhcmdldExpbmUgPSB0aGlzLmRyYWdWaXN1YWxzLmdldFRhcmdldExpbmUoKTtcbiAgICAgICAgY29uc3Qgc291cmNlTGluZU51bWJlciA9IHRoaXMuZHJhZ1Zpc3VhbHMuZ2V0U291cmNlTGluZU51bWJlcigpO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJzYuMyBcdTYyRDZcdTY1M0VcdTRGRTFcdTYwNkY6Jywge1xuICAgICAgICAgICAgXHU2RTkwXHU4ODRDXHU1M0Y3OiBzb3VyY2VMaW5lTnVtYmVyLFxuICAgICAgICAgICAgXHU3NkVFXHU2ODA3XHU4ODRDXHU1M0Y3OiB0YXJnZXRMaW5lXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRhcmdldExpbmUgPT09IG51bGwgfHwgc291cmNlTGluZU51bWJlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignNi40IFx1NjVFMFx1NkNENVx1Nzg2RVx1NUI5QVx1NzZFRVx1NjgwN1x1ODg0Q1x1NjIxNlx1NkU5MFx1ODg0QycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8vIDYuNSBcdTY4QzBcdTY3RTVcdTY2MkZcdTU0MjZcdTk3MDBcdTg5ODFcdTc5RkJcdTUyQThcbiAgICAgICAgaWYgKHNvdXJjZUxpbmVOdW1iZXIgIT09IHRhcmdldExpbmUgJiYgdGFyZ2V0TGluZSAhPT0gc291cmNlTGluZU51bWJlciArIDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc2LjYgXHU2QjYzXHU1NzI4XHU3OUZCXHU1MkE4XHU1NzU3Jyk7XG4gICAgICAgICAgICBCbG9ja01vdmVyLm1vdmVCbG9jayh2aWV3LCBzb3VyY2VMaW5lTnVtYmVyLCB0YXJnZXRMaW5lKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc2LjcgXHU2RTkwXHU4ODRDXHU1NDhDXHU3NkVFXHU2ODA3XHU4ODRDXHU3NkY4XHU1NDBDXHU2MjE2XHU3NkY4XHU5MEJCXHVGRjBDXHU2NUUwXHU5NzAwXHU3OUZCXHU1MkE4Jyk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgdGhpcy5kcmFnVmlzdWFscy5oaWRlRHJhZ1BsYWNlaG9sZGVyKCk7XG4gICAgICAgIHRoaXMuZHJhZ1Zpc3VhbHMuc2V0RHJhZ2dpbmdMaW5lKHZpZXcsIG51bGwpO1xuICAgICAgICBjb25zb2xlLmxvZygnNi44IFx1NjJENlx1NjUzRVx1NUI4Q1x1NjIxMCcpO1xuICAgIH1cbiAgICBcbiAgICAvLyA3LiBcdTgzQjdcdTUzRDZcdTY1ODdcdTY4NjNcdTVDNUVcdTYwMjdcdTRGRTFcdTYwNkZcdTdFRDNcdTY3NUZcdTRGNERcdTdGNkVcbiAgICBwcml2YXRlIGdldEZyb250bWF0dGVyRW5kUG9zaXRpb24oZG9jOiBhbnkpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBmaXJzdExpbmUgPSBkb2MubGluZSgxKTtcbiAgICAgICAgaWYgKGZpcnN0TGluZS50ZXh0LnRyaW0oKSAhPT0gJy0tLScpIHtcbiAgICAgICAgICAgIHJldHVybiAwOyAvLyBcdTZDQTFcdTY3MDlcdTY1ODdcdTY4NjNcdTVDNUVcdTYwMjdcdTRGRTFcdTYwNkZcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8PSBkb2MubGluZXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGRvYy5saW5lKGkpO1xuICAgICAgICAgICAgaWYgKGxpbmUudGV4dC50cmltKCkgPT09ICctLS0nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUudG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7IC8vIFx1NjcyQVx1NjI3RVx1NTIzMFx1N0VEM1x1Njc1Rlx1NzY4NFx1NjU4N1x1Njg2M1x1NUM1RVx1NjAyN1x1NEZFMVx1NjA2Rlx1NTIwNlx1OTY5NFx1N0IyNlxuICAgIH1cblxuICAgIC8vIDguIFx1NTIyNFx1NjVBRFx1NjYyRlx1NTQyNlx1NUU5NFx1OEJFNVx1NTcyOFx1NUY1M1x1NTI0RFx1NEY0RFx1N0Y2RVx1NEU0Qlx1NTI0RFx1NjNEMlx1NTE2NVxuICAgIHByaXZhdGUgc2hvdWxkSW5zZXJ0QmVmb3JlKHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgY29uc3QgbGluZVN0YXJ0ID0gbGluZS5mcm9tO1xuICAgICAgICBjb25zdCBsaW5lTWlkZGxlID0gbGluZVN0YXJ0ICsgTWF0aC5mbG9vcihsaW5lLmxlbmd0aCAvIDIpO1xuICAgICAgICByZXR1cm4gcG9zIDwgbGluZU1pZGRsZTtcbiAgICB9XG5cbiAgICAvLyA5LiBcdTYyRDZcdTUyQThcdTdFRDNcdTY3NUZcdTRFOEJcdTRFRjZcdTU5MDRcdTc0MDZcbiAgICBwcml2YXRlIG9uRHJhZ0VuZChldmVudDogRHJhZ0V2ZW50KSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBnZXRFZGl0b3JWaWV3KHRoaXMuYXBwKTtcbiAgICAgICAgaWYgKCF2aWV3KSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5kcmFnVmlzdWFscy5oaWRlRHJhZ1BsYWNlaG9sZGVyKCk7XG4gICAgICAgIHRoaXMuZHJhZ1Zpc3VhbHMuc2V0RHJhZ2dpbmdMaW5lKHZpZXcsIG51bGwpO1xuXG4gICAgICAgIHRoaXMuZHJhZ2dpbmdTdGFydFBvcyA9IG51bGw7XG4gICAgfVxufSIsICJpbXBvcnQgeyBFZGl0b3JWaWV3LCBXaWRnZXRUeXBlLCBWaWV3VXBkYXRlLCBWaWV3UGx1Z2luLCBEZWNvcmF0aW9uU2V0LCBEZWNvcmF0aW9uIH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5pbXBvcnQgeyBTdGF0ZUZpZWxkLCBTdGF0ZUVmZmVjdCwgRWRpdG9yU3RhdGUgfSBmcm9tICdAY29kZW1pcnJvci9zdGF0ZSc7XG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3IH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgRHJhZ1BsYWNlaG9sZGVyIH0gZnJvbSAnLi9EcmFnUGxhY2Vob2xkZXInO1xuaW1wb3J0IHsgZHJhZ0hhbmRsZUZpZWxkLCBkcmFnZ2luZ0xpbmVGaWVsZCwgZHJhZ0hhbmRsZVBsdWdpbiwgc2V0RHJhZ2dpbmdMaW5lIH0gZnJvbSAnLi9EcmFnSGFuZGxlTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBEcmFnVmlzdWFscyB7XG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcbiAgICBwcml2YXRlIGRyYWdQbGFjZWhvbGRlcjogRHJhZ1BsYWNlaG9sZGVyO1xuXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHApIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuZHJhZ1BsYWNlaG9sZGVyID0gbmV3IERyYWdQbGFjZWhvbGRlcigpO1xuICAgIH1cblxuICAgIC8vIDEuIFx1NjYzRVx1NzkzQVx1NjJENlx1NTJBOFx1NTM2MFx1NEY0RFx1N0IyNlxuICAgIHNob3dEcmFnUGxhY2Vob2xkZXIodmlldzogRWRpdG9yVmlldywgcG9zOiBudW1iZXIsIHNvdXJjZUxpbmVOdW1iZXI6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRyYWdQbGFjZWhvbGRlci5zaG93RHJhZ1BsYWNlaG9sZGVyKHZpZXcsIHBvcywgc291cmNlTGluZU51bWJlcik7XG4gICAgfVxuXG4gICAgLy8gMi4gXHU5NjkwXHU4NUNGXHU2MkQ2XHU1MkE4XHU1MzYwXHU0RjREXHU3QjI2XG4gICAgaGlkZURyYWdQbGFjZWhvbGRlcigpIHtcbiAgICAgICAgdGhpcy5kcmFnUGxhY2Vob2xkZXIuaGlkZURyYWdQbGFjZWhvbGRlcigpO1xuICAgIH1cblxuXG4gICAgLy8gMS4gXHU2NUIwXHU1ODlFXHU2NUI5XHU2Q0Q1XHVGRjFBXHU1MjFCXHU1RUZBXHU2MkQ2XHU1MkE4XHU5ODg0XHU4OUM4XG4gICAgY3JlYXRlRHJhZ1ByZXZpZXcodGV4dDogc3RyaW5nLCBldmVudDogRHJhZ0V2ZW50KTogdm9pZCB7XG4gICAgICAgIGNvbnN0IGRyYWdJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkcmFnSW1hZ2UudGV4dENvbnRlbnQgPSB0ZXh0LnNsaWNlKDAsIDIwKSArICcuLi4nO1xuICAgICAgICBkcmFnSW1hZ2UuY2xhc3NOYW1lID0gJ2RyYWctcHJldmlldyc7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRyYWdJbWFnZSk7XG4gICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlcj8uc2V0RHJhZ0ltYWdlKGRyYWdJbWFnZSwgMCwgMCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTRGN0ZcdTc1Mjggc2V0VGltZW91dCBcdTY3NjVcdTc4NkVcdTRGRERcdTYyRDZcdTUyQThcdTVGMDBcdTU5Q0JcdTU0MEVcdTUxOERcdTc5RkJcdTk2NjRcdTk4ODRcdTg5QzhcdTUxNDNcdTdEMjBcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGRyYWdJbWFnZSksIDApO1xuICAgIH1cblxuXG5cbiAgICAvLyAzLiBcdTgzQjdcdTUzRDZcdTdGMTZcdThGOTFcdTU2NjhcdTg5QzZcdTU2RkVcbiAgICBnZXRFZGl0b3JWaWV3KCk6IEVkaXRvclZpZXcgfCBudWxsIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk7XG4gICAgICAgIGlmICghdmlldykgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiAodmlldy5lZGl0b3IgYXMgYW55KS5jbTtcbiAgICB9XG5cbiAgICAvLyA0LiBcdThCQkVcdTdGNkVcdTYyRDZcdTUyQThcdTg4NENcbiAgICBzZXREcmFnZ2luZ0xpbmUodmlldzogRWRpdG9yVmlldywgbGluZU51bWJlcjogbnVtYmVyIHwgbnVsbCkge1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHtcbiAgICAgICAgICAgIGVmZmVjdHM6IHNldERyYWdnaW5nTGluZS5vZihsaW5lTnVtYmVyKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyA1LiBcdTgzQjdcdTUzRDZcdTYyRDZcdTUyQThcdTc2RjhcdTUxNzNcdTc2ODRcdTdGMTZcdThGOTFcdTU2NjhcdTYyNjlcdTVDNTVcbiAgICBzdGF0aWMgZ2V0RHJhZ0V4dGVuc2lvbnMoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBkcmFnSGFuZGxlRmllbGQsXG4gICAgICAgICAgICBkcmFnZ2luZ0xpbmVGaWVsZCxcbiAgICAgICAgICAgIGRyYWdIYW5kbGVQbHVnaW5cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXRQbGFjZWhvbGRlclBvc2l0aW9uKCk6IG51bWJlciB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5kcmFnUGxhY2Vob2xkZXIuZ2V0UGxhY2Vob2xkZXJQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIGdldFRhcmdldExpbmUoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmRyYWdQbGFjZWhvbGRlci5nZXRUYXJnZXRMaW5lKCk7XG4gICAgfVxuXG4gICAgZ2V0U291cmNlTGluZU51bWJlcigpOiBudW1iZXIgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhZ1BsYWNlaG9sZGVyLmdldFNvdXJjZUxpbmVOdW1iZXIoKTtcbiAgICB9XG59XG5cbi8vIFx1NUJGQ1x1NTFGQSBzZXREcmFnZ2luZ0xpbmUgXHU0RUU1XHU0RkJGXHU1MTc2XHU0RUQ2XHU2QTIxXHU1NzU3XHU1M0VGXHU0RUU1XHU0RjdGXHU3NTI4XG5leHBvcnQgeyBzZXREcmFnZ2luZ0xpbmUgfTsiLCAiaW1wb3J0IHsgRWRpdG9yVmlldyB9IGZyb20gJ0Bjb2RlbWlycm9yL3ZpZXcnO1xuXG5leHBvcnQgY2xhc3MgRHJhZ1BsYWNlaG9sZGVyIHtcbiAgICBwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgY3VycmVudFBvc2l0aW9uOiBudW1iZXIgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIHRhcmdldExpbmU6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIHByaXZhdGUgc291cmNlTGluZU51bWJlcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jcmVhdGVEcmFnUGxhY2Vob2xkZXJFbGVtZW50KCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KTtcbiAgICB9XG5cbiAgICAvLyAxLiBcdTUyMUJcdTVFRkFcdTYyRDZcdTUyQThcdTUzNjBcdTRGNERcdTdCMjZcdTUxNDNcdTdEMjBcbiAgICBwcml2YXRlIGNyZWF0ZURyYWdQbGFjZWhvbGRlckVsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBkcmFnUGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZHJhZ1BsYWNlaG9sZGVyLmNsYXNzTmFtZSA9ICdkcmFnLXBsYWNlaG9sZGVyJztcbiAgICAgICAgZHJhZ1BsYWNlaG9sZGVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgZHJhZ1BsYWNlaG9sZGVyLnN0eWxlLmhlaWdodCA9ICcycHgnO1xuICAgICAgICBkcmFnUGxhY2Vob2xkZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3ZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuICAgICAgICBkcmFnUGxhY2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZHJhZ1BsYWNlaG9sZGVyLnN0eWxlLnpJbmRleCA9ICcxMDAwJztcbiAgICAgICAgcmV0dXJuIGRyYWdQbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvLyAyLiBcdTgzQjdcdTUzRDZcdTY1ODdcdTY4NjNcdTVDNUVcdTYwMjdcdTRGRTFcdTYwNkZcdTdFRDNcdTY3NUZcdTc2ODRcdTRGNERcdTdGNkVcbiAgICBwcml2YXRlIGdldEZyb250bWF0dGVyRW5kUG9zaXRpb24oZG9jOiBhbnkpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBmaXJzdExpbmUgPSBkb2MubGluZSgxKTtcbiAgICAgICAgaWYgKGZpcnN0TGluZS50ZXh0LnRyaW0oKSAhPT0gJy0tLScpIHtcbiAgICAgICAgICAgIHJldHVybiAwOyAvLyBObyBmcm9udG1hdHRlclxuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAyOyBpIDw9IGRvYy5saW5lczsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gZG9jLmxpbmUoaSk7XG4gICAgICAgICAgICBpZiAobGluZS50ZXh0LnRyaW0oKSA9PT0gJy0tLScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGluZS50bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDsgLy8gTm8gY2xvc2luZyBmcm9udG1hdHRlciBkZWxpbWl0ZXIgZm91bmRcbiAgICB9XG5cbiAgICAvLyAzLiBcdTY2M0VcdTc5M0FcdTYyRDZcdTUyQThcdTUzNjBcdTRGNERcdTdCMjZcbiAgICBzaG93RHJhZ1BsYWNlaG9sZGVyKHZpZXc6IEVkaXRvclZpZXcsIHBvczogbnVtYmVyLCBzb3VyY2VMaW5lTnVtYmVyOiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgZG9jID0gdmlldy5zdGF0ZS5kb2M7XG4gICAgICAgIGNvbnN0IGxpbmUgPSBkb2MubGluZUF0KHBvcyk7XG4gICAgICAgIGxldCBwbGFjZWhvbGRlclBvczogbnVtYmVyO1xuICAgICAgICBsZXQgdGFyZ2V0TGluZU51bWJlcjogbnVtYmVyO1xuXG4gICAgICAgIC8vIFx1ODNCN1x1NTNENlx1NjU4N1x1Njg2M1x1NUM1RVx1NjAyN1x1NEZFMVx1NjA2Rlx1N0VEM1x1Njc1Rlx1NzY4NFx1NEY0RFx1N0Y2RVxuICAgICAgICBjb25zdCBmcm9udG1hdHRlckVuZFBvcyA9IHRoaXMuZ2V0RnJvbnRtYXR0ZXJFbmRQb3NpdGlvbihkb2MpO1xuICAgICAgICBjb25zdCBmaXJzdENvbnRlbnRMaW5lID0gZG9jLmxpbmVBdChmcm9udG1hdHRlckVuZFBvcyk7XG5cbiAgICAgICAgaWYgKHBvcyA8PSBmaXJzdENvbnRlbnRMaW5lLmZyb20pIHtcbiAgICAgICAgICAgIC8vIFx1NTkwNFx1NzQwNlx1OTk5Nlx1ODg0Q1x1RkYwOFx1NjM5Mlx1OTY2NFx1NjU4N1x1Njg2M1x1NUM1RVx1NjAyN1x1NEZFMVx1NjA2Rlx1NTQwRVx1NzY4NFx1OTk5Nlx1ODg0Q1x1RkYwOVxuICAgICAgICAgICAgcGxhY2Vob2xkZXJQb3MgPSBmaXJzdENvbnRlbnRMaW5lLmZyb207XG4gICAgICAgICAgICB0YXJnZXRMaW5lTnVtYmVyID0gZmlyc3RDb250ZW50TGluZS5udW1iZXI7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zID49IGRvYy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIFx1NTkwNFx1NzQwNlx1NjcyQlx1ODg0Q1xuICAgICAgICAgICAgcGxhY2Vob2xkZXJQb3MgPSBkb2MubGVuZ3RoO1xuICAgICAgICAgICAgdGFyZ2V0TGluZU51bWJlciA9IGRvYy5saW5lcyArIDE7XG4gICAgICAgIH0gZWxzZSBpZiAocG9zIDw9IGxpbmUuZnJvbSArIChsaW5lLnRvIC0gbGluZS5mcm9tKSAvIDIpIHtcbiAgICAgICAgICAgIC8vIFx1NTcyOFx1NUY1M1x1NTI0RFx1ODg0Q1x1NzY4NFx1NEUwQVx1NTM0QVx1OTBFOFx1NTIwNlxuICAgICAgICAgICAgcGxhY2Vob2xkZXJQb3MgPSBsaW5lLmZyb207XG4gICAgICAgICAgICB0YXJnZXRMaW5lTnVtYmVyID0gbGluZS5udW1iZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBcdTU3MjhcdTVGNTNcdTUyNERcdTg4NENcdTc2ODRcdTRFMEJcdTUzNEFcdTkwRThcdTUyMDZcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyUG9zID0gbGluZS50byArIDE7XG4gICAgICAgICAgICB0YXJnZXRMaW5lTnVtYmVyID0gbGluZS5udW1iZXIgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVjdCA9IHZpZXcuY29vcmRzQXRQb3MocGxhY2Vob2xkZXJQb3MpO1xuICAgICAgICBpZiAoIXJlY3QpIHJldHVybjtcblxuICAgICAgICBjb25zdCBsaW5lRWxlbWVudCA9IHZpZXcuZG9tLnF1ZXJ5U2VsZWN0b3IoJy5jbS1saW5lJyk7XG4gICAgICAgIGlmICghbGluZUVsZW1lbnQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBsaW5lUmVjdCA9IGxpbmVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSBgJHtsaW5lUmVjdC5sZWZ0fXB4YDtcbiAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gYCR7bGluZVJlY3Qud2lkdGh9cHhgO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJzJweCc7XG5cbiAgICAgICAgaWYgKHBsYWNlaG9sZGVyUG9zIDw9IGZpcnN0Q29udGVudExpbmUuZnJvbSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RDb250ZW50TGluZVJlY3QgPSB2aWV3LmNvb3Jkc0F0UG9zKGZpcnN0Q29udGVudExpbmUuZnJvbSk7XG4gICAgICAgICAgICBpZiAoZmlyc3RDb250ZW50TGluZVJlY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gYCR7Zmlyc3RDb250ZW50TGluZVJlY3QudG9wIC0gMn1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobGluZS5udW1iZXIgPT09IGRvYy5saW5lcykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnN0eWxlLnRvcCA9IGAke3JlY3QuYm90dG9tICsgMn1weGA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50TGluZVJlY3QgPSB2aWV3LmNvb3Jkc0F0UG9zKGxpbmUuZnJvbSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0TGluZVJlY3QgPSB2aWV3LmNvb3Jkc0F0UG9zKGRvYy5saW5lKGxpbmUubnVtYmVyICsgMSkuZnJvbSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpbmVSZWN0ICYmIG5leHRMaW5lUmVjdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50b3AgPSBgJHsoY3VycmVudExpbmVSZWN0LmJvdHRvbSArIG5leHRMaW5lUmVjdC50b3ApIC8gMn1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IHBsYWNlaG9sZGVyUG9zO1xuICAgICAgICB0aGlzLnRhcmdldExpbmUgPSB0YXJnZXRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLnNvdXJjZUxpbmVOdW1iZXIgPSBzb3VyY2VMaW5lTnVtYmVyO1xuICAgIH1cblxuICAgIC8vIDQuIFx1OTY5MFx1ODVDRlx1NjJENlx1NTJBOFx1NTM2MFx1NEY0RFx1N0IyNlxuICAgIGhpZGVEcmFnUGxhY2Vob2xkZXIoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB0aGlzLmN1cnJlbnRQb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMudGFyZ2V0TGluZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc291cmNlTGluZU51bWJlciA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gNS4gXHU4M0I3XHU1M0Q2XHU1MzYwXHU0RjREXHU3QjI2XHU0RjREXHU3RjZFXG4gICAgZ2V0UGxhY2Vob2xkZXJQb3NpdGlvbigpOiBudW1iZXIgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBvc2l0aW9uO1xuICAgIH1cblxuICAgIC8vIDYuIFx1ODNCN1x1NTNENlx1NzZFRVx1NjgwN1x1ODg0Q1x1NTNGN1xuICAgIGdldFRhcmdldExpbmUoKTogbnVtYmVyIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhcmdldExpbmU7XG4gICAgfVxuXG4gICAgLy8gNy4gXHU4M0I3XHU1M0Q2XHU2RTkwXHU4ODRDXHU1M0Y3XG4gICAgZ2V0U291cmNlTGluZU51bWJlcigpOiBudW1iZXIgfCBudWxsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlTGluZU51bWJlcjtcbiAgICB9XG59IiwgImltcG9ydCB7IFdpZGdldFR5cGUsIFZpZXdVcGRhdGUsIFZpZXdQbHVnaW4sIERlY29yYXRpb25TZXQsIERlY29yYXRpb24sIEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IFN0YXRlRmllbGQsIFN0YXRlRWZmZWN0IH0gZnJvbSAnQGNvZGVtaXJyb3Ivc3RhdGUnO1xuXG4vLyAxLiBcdTYyRDZcdTUyQThcdTYyNEJcdTY3QzRcdTVDMEZcdTkwRThcdTRFRjZcdTdDN0JcbmNsYXNzIERyYWdIYW5kbGVXaWRnZXQgZXh0ZW5kcyBXaWRnZXRUeXBlIHtcbiAgICB0b0RPTSgpIHtcbiAgICAgICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBzcGFuLmNsYXNzTmFtZSA9IFwiY20tZHJhZy1oYW5kbGVyLWNvbnRhaW5lclwiO1xuICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZShcImRyYWdnYWJsZVwiLCBcInRydWVcIik7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsIFwiZmFsc2VcIik7XG4gICAgICAgIHNwYW4uaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbGlja2FibGUtaWNvblwiPlxuICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMjRcIiBoZWlnaHQ9XCIyNFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cInN2Zy1pY29uIGx1Y2lkZS1ncmlwLXZlcnRpY2FsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI5XCIgY3k9XCIxMlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCI5XCIgY3k9XCI1XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjlcIiBjeT1cIjE5XCIgcj1cIjFcIj48L2NpcmNsZT5cbiAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjeD1cIjE1XCIgY3k9XCIxMlwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxNVwiIGN5PVwiNVwiIHI9XCIxXCI+PC9jaXJjbGU+XG4gICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY3g9XCIxNVwiIGN5PVwiMTlcIiByPVwiMVwiPjwvY2lyY2xlPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICBgO1xuICAgICAgICByZXR1cm4gc3BhbjtcbiAgICB9XG59XG5cbi8vIDIuIFx1NzJCNlx1NjAwMVx1NjU0OFx1Njc5Q1x1NUI5QVx1NEU0OVxuY29uc3QgYWRkRHJhZ0hhbmRsZSA9IFN0YXRlRWZmZWN0LmRlZmluZTx7ZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyfT4oKTtcbmNvbnN0IHNldERyYWdnaW5nTGluZSA9IFN0YXRlRWZmZWN0LmRlZmluZTxudW1iZXIgfCBudWxsPigpO1xuXG4vLyAzLiBcdTYyRDZcdTUyQThcdTYyNEJcdTY3QzRcdTcyQjZcdTYwMDFcdTVCNTdcdTZCQjVcbmNvbnN0IGRyYWdIYW5kbGVGaWVsZCA9IFN0YXRlRmllbGQuZGVmaW5lPERlY29yYXRpb25TZXQ+KHtcbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIHJldHVybiBEZWNvcmF0aW9uLm5vbmU7XG4gICAgfSxcbiAgICB1cGRhdGUoaGFuZGxlcywgdHIpIHtcbiAgICAgICAgaGFuZGxlcyA9IGhhbmRsZXMubWFwKHRyLmNoYW5nZXMpO1xuICAgICAgICBmb3IgKGxldCBlIG9mIHRyLmVmZmVjdHMpIHtcbiAgICAgICAgICAgIGlmIChlLmlzKGFkZERyYWdIYW5kbGUpKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcyA9IGhhbmRsZXMudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYWRkOiBbRGVjb3JhdGlvbi53aWRnZXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0OiBuZXcgRHJhZ0hhbmRsZVdpZGdldCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lkZTogLTFcbiAgICAgICAgICAgICAgICAgICAgfSkucmFuZ2UoZS52YWx1ZS5mcm9tKV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlcztcbiAgICB9LFxuICAgIHByb3ZpZGU6IGYgPT4gRWRpdG9yVmlldy5kZWNvcmF0aW9ucy5mcm9tKGYpXG59KTtcblxuLy8gNC4gXHU2MkQ2XHU1MkE4XHU4ODRDXHU3MkI2XHU2MDAxXHU1QjU3XHU2QkI1XG5jb25zdCBkcmFnZ2luZ0xpbmVGaWVsZCA9IFN0YXRlRmllbGQuZGVmaW5lPG51bWJlciB8IG51bGw+KHtcbiAgICBjcmVhdGUoKSB7IHJldHVybiBudWxsOyB9LFxuICAgIHVwZGF0ZSh2YWx1ZSwgdHIpIHtcbiAgICAgICAgZm9yIChsZXQgZSBvZiB0ci5lZmZlY3RzKSB7XG4gICAgICAgICAgICBpZiAoZS5pcyhzZXREcmFnZ2luZ0xpbmUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgcHJvdmlkZTogZiA9PiBFZGl0b3JWaWV3LmRlY29yYXRpb25zLmZyb20oZiwgdmFsdWUgPT4ge1xuICAgICAgICByZXR1cm4gKHZpZXc6IEVkaXRvclZpZXcpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIERlY29yYXRpb24ubm9uZTtcbiAgICAgICAgICAgIGxldCBsaW5lID0gdmlldy5zdGF0ZS5kb2MubGluZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gRGVjb3JhdGlvbi5zZXQoRGVjb3JhdGlvbi5saW5lKHsgY2xhc3M6IFwiY20tZHJhZ2dpbmctbGluZVwiIH0pLnJhbmdlKGxpbmUuZnJvbSkpO1xuICAgICAgICB9O1xuICAgIH0pXG59KTtcblxuLy8gNS4gXHU2MkQ2XHU1MkE4XHU2MjRCXHU2N0M0XHU2M0QyXHU0RUY2XG5jb25zdCBkcmFnSGFuZGxlUGx1Z2luID0gVmlld1BsdWdpbi5mcm9tQ2xhc3MoY2xhc3Mge1xuICAgIGRlY29yYXRpb25zOiBEZWNvcmF0aW9uU2V0O1xuXG4gICAgY29uc3RydWN0b3IodmlldzogRWRpdG9yVmlldykge1xuICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5jcmVhdGVEZWNvcmF0aW9ucyh2aWV3KTtcbiAgICB9XG5cbiAgICB1cGRhdGUodXBkYXRlOiBWaWV3VXBkYXRlKSB7XG4gICAgICAgIGlmICh1cGRhdGUuZG9jQ2hhbmdlZCB8fCB1cGRhdGUudmlld3BvcnRDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRlY29yYXRpb25zID0gdGhpcy5jcmVhdGVEZWNvcmF0aW9ucyh1cGRhdGUudmlldyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVEZWNvcmF0aW9ucyh2aWV3OiBFZGl0b3JWaWV3KSB7XG4gICAgICAgIGxldCB3aWRnZXRzID0gW107XG4gICAgICAgIGZvciAobGV0IHtmcm9tLCB0b30gb2Ygdmlldy52aXNpYmxlUmFuZ2VzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBwb3MgPSBmcm9tOyBwb3MgPD0gdG87KSB7XG4gICAgICAgICAgICAgICAgbGV0IGxpbmUgPSB2aWV3LnN0YXRlLmRvYy5saW5lQXQocG9zKTtcbiAgICAgICAgICAgICAgICB3aWRnZXRzLnB1c2goRGVjb3JhdGlvbi53aWRnZXQoe1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQ6IG5ldyBEcmFnSGFuZGxlV2lkZ2V0KCksXG4gICAgICAgICAgICAgICAgICAgIHNpZGU6IC0xXG4gICAgICAgICAgICAgICAgfSkucmFuZ2UobGluZS5mcm9tKSk7XG4gICAgICAgICAgICAgICAgcG9zID0gbGluZS50byArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb24uc2V0KHdpZGdldHMpO1xuICAgIH1cbn0sIHtcbiAgICBkZWNvcmF0aW9uczogdiA9PiB2LmRlY29yYXRpb25zXG59KTtcblxuZXhwb3J0IHsgZHJhZ0hhbmRsZUZpZWxkLCBkcmFnZ2luZ0xpbmVGaWVsZCwgZHJhZ0hhbmRsZVBsdWdpbiwgc2V0RHJhZ2dpbmdMaW5lIH07IiwgImltcG9ydCB7IEVkaXRvclZpZXcgfSBmcm9tICdAY29kZW1pcnJvci92aWV3JztcbmltcG9ydCB7IEVkaXRvclNlbGVjdGlvbiB9IGZyb20gJ0Bjb2RlbWlycm9yL3N0YXRlJztcblxuZXhwb3J0IGNsYXNzIEJsb2NrTW92ZXIge1xuICAgIC8vIFx1NkEyMVx1NTc1N1x1N0YxNlx1NTNGN1x1RkYxQTFcbiAgICAvLyBcdTUyOUZcdTgwRkRcdUZGMUFcdTc5RkJcdTUyQThcdTY1ODdcdTY3MkNcdTU3NTdcbiAgICAvLyBcdThGOTNcdTUxNjVcdUZGMUF2aWV3IChFZGl0b3JWaWV3KSwgZnJvbUxpbmUgKG51bWJlciksIHRvTGluZSAobnVtYmVyKVxuICAgIC8vIFx1OEY5M1x1NTFGQVx1RkYxQVx1NjVFMFxuICAgIHN0YXRpYyBtb3ZlQmxvY2sodmlldzogRWRpdG9yVmlldywgZnJvbUxpbmU6IG51bWJlciwgdG9MaW5lOiBudW1iZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ0Jsb2NrTW92ZXIubW92ZUJsb2NrIFx1NUYwMFx1NTlDQjonLCB7IFxuICAgICAgICAgICAgXHU0RUNFXHU4ODRDOiBmcm9tTGluZSwgXG4gICAgICAgICAgICBcdTUyMzBcdTg4NEM6IHRvTGluZSBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZG9jID0gdmlldy5zdGF0ZS5kb2M7XG4gICAgICAgIGNvbnN0IHRvdGFsTGluZXMgPSBkb2MubGluZXM7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1x1NjU4N1x1Njg2M1x1NEZFMVx1NjA2RjonLCB7IFx1NjAzQlx1ODg0Q1x1NjU3MDogdG90YWxMaW5lcyB9KTtcblxuICAgICAgICAvLyBcdTc4NkVcdTRGRERcdTg4NENcdTUzRjdcdTU3MjhcdTY3MDlcdTY1NDhcdTgzMDNcdTU2RjRcdTUxODVcbiAgICAgICAgZnJvbUxpbmUgPSBNYXRoLm1heCgxLCBNYXRoLm1pbihmcm9tTGluZSwgdG90YWxMaW5lcykpO1xuICAgICAgICB0b0xpbmUgPSBNYXRoLm1heCgxLCBNYXRoLm1pbih0b0xpbmUsIHRvdGFsTGluZXMgKyAxKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1x1OEMwM1x1NjU3NFx1NTQwRVx1NzY4NFx1ODg0Q1x1NTNGNzonLCB7IFx1NEVDRVx1ODg0QzogZnJvbUxpbmUsIFx1NTIzMFx1ODg0QzogdG9MaW5lIH0pO1xuXG4gICAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjYyRlx1NTQyNlx1NjYyRlx1NzZGOFx1OTBCQlx1ODg0Q1x1NzlGQlx1NTJBOFx1NzY4NFx1NjBDNVx1NTFCNVxuICAgICAgICBpZiAodG9MaW5lID09PSBmcm9tTGluZSArIDEgfHwgZnJvbUxpbmUgPT09IHRvTGluZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1x1NkU5MFx1ODg0Q1x1NTQ4Q1x1NzZFRVx1NjgwN1x1ODg0Q1x1NzZGOFx1NTQwQ1x1NjIxNlx1NzZGOFx1OTBCQlx1RkYwQ1x1NjVFMFx1OTcwMFx1NzlGQlx1NTJBOCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZnJvbUxpbmVDb250ZW50ID0gZG9jLmxpbmUoZnJvbUxpbmUpO1xuICAgICAgICBjb25zdCBsaW5lQ29udGVudCA9IGZyb21MaW5lQ29udGVudC50ZXh0O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdcdTg5ODFcdTc5RkJcdTUyQThcdTc2ODRcdTUxODVcdTVCQjk6JywgeyBcdTg4NENcdTUxODVcdTVCQjk6IGxpbmVDb250ZW50IH0pO1xuXG4gICAgICAgIGxldCBjaGFuZ2VzID0gW107XG4gICAgICAgIGxldCBpbnNlcnRQb3M7XG4gICAgICAgIGxldCBuZXdDdXJzb3JQb3M7XG5cbiAgICAgICAgaWYgKHRvTGluZSA+IGZyb21MaW5lKSB7XG4gICAgICAgICAgICAvLyBcdTU0MTFcdTRFMEJcdTc5RkJcdTUyQThcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcdTU0MTFcdTRFMEJcdTc5RkJcdTUyQTgnKTtcbiAgICAgICAgICAgIGlmICh0b0xpbmUgPiB0b3RhbExpbmVzKSB7XG4gICAgICAgICAgICAgICAgLy8gXHU3OUZCXHU1MkE4XHU1MjMwXHU2NTg3XHU2ODYzXHU2NzJCXHU1QzNFXG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdExpbmUgPSBkb2MubGluZSh0b3RhbExpbmVzKTtcbiAgICAgICAgICAgICAgICBpbnNlcnRQb3MgPSBsYXN0TGluZS50bztcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICB7IGZyb206IGluc2VydFBvcywgaW5zZXJ0OiAnXFxuJyArIGxpbmVDb250ZW50IH0sXG4gICAgICAgICAgICAgICAgICAgIHsgZnJvbTogZnJvbUxpbmVDb250ZW50LmZyb20sIHRvOiBmcm9tTGluZUNvbnRlbnQudG8gKyAoZnJvbUxpbmUgPT09IHRvdGFsTGluZXMgPyAwIDogMSksIGluc2VydDogJycgfVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgbmV3Q3Vyc29yUG9zID0gaW5zZXJ0UG9zICsgbGluZUNvbnRlbnQubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0TGluZSA9IGRvYy5saW5lKHRvTGluZSAtIDEpO1xuICAgICAgICAgICAgICAgIGluc2VydFBvcyA9IHRhcmdldExpbmUudG87XG4gICAgICAgICAgICAgICAgY2hhbmdlcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgeyBmcm9tOiBpbnNlcnRQb3MsIGluc2VydDogJ1xcbicgKyBsaW5lQ29udGVudCB9LFxuICAgICAgICAgICAgICAgICAgICB7IGZyb206IGZyb21MaW5lQ29udGVudC5mcm9tLCB0bzogZnJvbUxpbmVDb250ZW50LnRvICsgMSwgaW5zZXJ0OiAnJyB9XG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBuZXdDdXJzb3JQb3MgPSBpbnNlcnRQb3MgKyBsaW5lQ29udGVudC5sZW5ndGggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gXHU1NDExXHU0RTBBXHU3OUZCXHU1MkE4XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnXHU1NDExXHU0RTBBXHU3OUZCXHU1MkE4Jyk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRMaW5lID0gZG9jLmxpbmUodG9MaW5lKTtcbiAgICAgICAgICAgIGluc2VydFBvcyA9IHRhcmdldExpbmUuZnJvbTtcbiAgICAgICAgICAgIGNoYW5nZXMgPSBbXG4gICAgICAgICAgICAgICAgeyBmcm9tOiBpbnNlcnRQb3MsIGluc2VydDogbGluZUNvbnRlbnQgKyAnXFxuJyB9LFxuICAgICAgICAgICAgICAgIHsgZnJvbTogZnJvbUxpbmVDb250ZW50LmZyb20sIHRvOiBmcm9tTGluZUNvbnRlbnQudG8gKyAoZnJvbUxpbmUgPT09IHRvdGFsTGluZXMgPyAwIDogMSksIGluc2VydDogJycgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIG5ld0N1cnNvclBvcyA9IGluc2VydFBvcyArIGxpbmVDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUubG9nKCdcdTUxQzZcdTU5MDdcdTYyNjdcdTg4NENcdTc2ODRcdTY2RjRcdTY1Mzk6JywgY2hhbmdlcyk7XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh7XG4gICAgICAgICAgICAgICAgY2hhbmdlczogY2hhbmdlcyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IEVkaXRvclNlbGVjdGlvbi5jdXJzb3IoTWF0aC5taW4obmV3Q3Vyc29yUG9zLCBkb2MubGVuZ3RoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1x1NjI2N1x1ODg0Q1x1NjZGNFx1NjUzOTonLCB7XG4gICAgICAgICAgICAgICAgZGVsZXRlRnJvbTogZnJvbUxpbmUsXG4gICAgICAgICAgICAgICAgaW5zZXJ0QXQ6IHRvTGluZSxcbiAgICAgICAgICAgICAgICBpbnNlcnRDb250ZW50OiBsaW5lQ29udGVudCxcbiAgICAgICAgICAgICAgICBuZXdDdXJzb3JQb3M6IG5ld0N1cnNvclBvc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIFx1OUE4Q1x1OEJDMVx1NzlGQlx1NTJBOFx1N0VEM1x1Njc5Q1xuICAgICAgICAgICAgY29uc3QgbmV3RG9jID0gdmlldy5zdGF0ZS5kb2M7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnXHU3OUZCXHU1MkE4XHU1NDBFXHU3Njg0XHU2NTg3XHU2ODYzXHU2MDNCXHU4ODRDXHU2NTcwOicsIG5ld0RvYy5saW5lcyk7XG5cbiAgICAgICAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NjVCMFx1NEY0RFx1N0Y2RVx1NzY4NFx1NTE4NVx1NUJCOVxuICAgICAgICAgICAgaWYgKHRvTGluZSA8PSBuZXdEb2MubGluZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXJnZXRMaW5lID0gbmV3RG9jLmxpbmUoTWF0aC5taW4odG9MaW5lLCBuZXdEb2MubGluZXMpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXHU2NUIwXHU0RjREXHU3RjZFXHU3Njg0XHU1MTg1XHU1QkI5OicsIHsgXHU4ODRDXHU1M0Y3OiBNYXRoLm1pbih0b0xpbmUsIG5ld0RvYy5saW5lcyksIFx1NTE4NVx1NUJCOTogbmV3VGFyZ2V0TGluZS50ZXh0IH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXHU2NUIwXHU0RjREXHU3RjZFXHU1NzI4XHU2NTg3XHU2ODYzXHU2NzJCXHU1QzNFJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFx1NjhDMFx1NjdFNVx1NTM5Rlx1NEY0RFx1N0Y2RVx1NzY4NFx1NTE4NVx1NUJCOVxuICAgICAgICAgICAgaWYgKGZyb21MaW5lIDw9IG5ld0RvYy5saW5lcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTGluZSA9IG5ld0RvYy5saW5lKE1hdGgubWluKGZyb21MaW5lLCBuZXdEb2MubGluZXMpKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnXHU1MzlGXHU0RjREXHU3RjZFXHU3Njg0XHU1RjUzXHU1MjREXHU1MTg1XHU1QkI5OicsIHsgXHU4ODRDXHU1M0Y3OiBNYXRoLm1pbihmcm9tTGluZSwgbmV3RG9jLmxpbmVzKSwgXHU1MTg1XHU1QkI5OiBvcmlnaW5hbExpbmUudGV4dCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1x1NTM5Rlx1NEY0RFx1N0Y2RVx1NURGMlx1OEQ4NVx1NTFGQVx1NjU4N1x1Njg2M1x1ODMwM1x1NTZGNCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdcdTc5RkJcdTUyQThcdTU3NTdcdTY1RjZcdTUxRkFcdTk1MTk6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gXHU2QTIxXHU1NzU3XHU3RjE2XHU1M0Y3XHVGRjFBMlxuICAgIC8vIFx1NTI5Rlx1ODBGRFx1RkYxQVx1ODNCN1x1NTNENlx1NjU4N1x1Njg2M1x1NUM1RVx1NjAyN1x1NEZFMVx1NjA2Rlx1N0VEM1x1Njc1Rlx1NzY4NFx1NEY0RFx1N0Y2RVxuICAgIC8vIFx1OEY5M1x1NTE2NVx1RkYxQWRvYyAoYW55KVxuICAgIC8vIFx1OEY5M1x1NTFGQVx1RkYxQW51bWJlciAoXHU2NTg3XHU2ODYzXHU1QzVFXHU2MDI3XHU0RkUxXHU2MDZGXHU3RUQzXHU2NzVGXHU3Njg0XHU0RjREXHU3RjZFKVxuICAgIHByaXZhdGUgc3RhdGljIGdldEZyb250bWF0dGVyRW5kUG9zaXRpb24oZG9jOiBhbnkpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBmaXJzdExpbmUgPSBkb2MubGluZSgxKTtcbiAgICAgICAgaWYgKGZpcnN0TGluZS50ZXh0LnRyaW0oKSAhPT0gJy0tLScpIHtcbiAgICAgICAgICAgIHJldHVybiAwOyAvLyBcdTZDQTFcdTY3MDlcdTY1ODdcdTY4NjNcdTVDNUVcdTYwMjdcdTRGRTFcdTYwNkZcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMjsgaSA8PSBkb2MubGluZXM7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGRvYy5saW5lKGkpO1xuICAgICAgICAgICAgaWYgKGxpbmUudGV4dC50cmltKCkgPT09ICctLS0nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpbmUudG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7IC8vIFx1NjcyQVx1NjI3RVx1NTIzMFx1N0VEM1x1Njc1Rlx1NzY4NFx1NjU4N1x1Njg2M1x1NUM1RVx1NjAyN1x1NEZFMVx1NjA2Rlx1NTIwNlx1OTY5NFx1N0IyNlxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBNYXJrZG93blZpZXcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBFZGl0b3JWaWV3IH0gZnJvbSAnQGNvZGVtaXJyb3Ivdmlldyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRFZGl0b3JWaWV3KGFwcDogQXBwKTogRWRpdG9yVmlldyB8IG51bGwge1xuICAgIGNvbnN0IHZpZXcgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICBpZiAoIXZpZXcpIHJldHVybiBudWxsO1xuICAgIHJldHVybiAodmlldy5lZGl0b3IgYXMgYW55KS5jbTtcbn0iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUJBQXVCOzs7QUNFdkIsc0JBQTBDOzs7QUNBbkMsSUFBTSxrQkFBTixNQUFzQjtBQUFBLEVBTXpCLGNBQWM7QUFKZCxTQUFRLGtCQUFpQztBQUN6QyxTQUFRLGFBQTRCO0FBQ3BDLFNBQVEsbUJBQWtDO0FBR3RDLFNBQUssVUFBVSxLQUFLLDZCQUE2QjtBQUNqRCxhQUFTLEtBQUssWUFBWSxLQUFLLE9BQU87QUFBQSxFQUMxQztBQUFBLEVBR0EsQUFBUSwrQkFBNEM7QUFDaEQsVUFBTSxrQkFBa0IsU0FBUyxjQUFjLEtBQUs7QUFDcEQsb0JBQWdCLFlBQVk7QUFDNUIsb0JBQWdCLE1BQU0sV0FBVztBQUNqQyxvQkFBZ0IsTUFBTSxTQUFTO0FBQy9CLG9CQUFnQixNQUFNLGtCQUFrQjtBQUN4QyxvQkFBZ0IsTUFBTSxVQUFVO0FBQ2hDLG9CQUFnQixNQUFNLFNBQVM7QUFDL0IsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUdBLEFBQVEsMEJBQTBCLEtBQWtCO0FBQ2hELFVBQU0sWUFBWSxJQUFJLEtBQUssQ0FBQztBQUM1QixRQUFJLFVB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
